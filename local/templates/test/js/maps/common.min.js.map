{"version":3,"sources":["common.js"],"names":["$","stickAside","$element","$w","width","stick_in_parent","parent","inner_scrolling","recalc_every","trigger","$d","document","window","$b","$mk","scrollTo","$object","offset","callback","stop","animate","scrollTop","top","this","nodeName","numberFormat","number","decimals","dec_point","thousands_sep","i","j","kw","kd","km","isNaN","Math","abs","undefined","parseInt","toFixed","length","substr","replace","slice","on","href","attr","magnificPopup","type","midClick","closeBtnInside","removalDelay","mainClass","fixedContentPos","closeOnContentClick","image","verticalFit","delegate","tLoading","gallery","enabled","navigateByImgClick","preload","tCounter","tError","$tabs","opts","root","title","content","item","active","changeTab","$root","index","opt","find","eq","addClass","siblings","removeClass","init","$this","_","closest","owlCarousel","items","loop","margin","nav","dots","autoplay","autoplayTimeout","animateOut","animateIn","onInitialized","event","target","data","each","src","push","append","open","onChanged","relatedTarget","options","_clones","count","mouseDrag","touchDrag","pullDrag","freeDrag","responsive","641","1025","e","x","pageX","offsetX","left","$aside","$asideBody","$asideFooter","hasClass","removeAttr","css","height","innerHeight","outerHeight","paddingBottom","text","html","effect","heigth","$slider","$input","min","max","step","value","prefix","slider","range","slide","ui","val","random","$inputFrom","$inputTo","values","split","toggleClass","slideToggle","inputmask","mask","$tip","next","tipHeight"],"mappings":"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","file":"../common.min.js","sourcesContent":["/*!\r\n * Moonkake v5.0.0\r\n *\r\n * https://github.com/detectiveshelby/moonkake\r\n */\r\n\r\n$(function () {\r\n\r\n  /* VAR\r\n  -------------------------------------------------- */\r\n\r\n  var $d = $(document);\r\n  var $w = $(window);\r\n  var $h = $('html');\r\n  var $b = $('body');\r\n\r\n  /* UTILS\r\n  -------------------------------------------------- */\r\n\r\n  var $mk = {\r\n    scrollTo: function ($object, offset, callback) {\r\n      $('html, body').stop().animate({\r\n        scrollTop: $object.offset().top - ((typeof (offset) === 'number') ? offset : 0)\r\n      }, 500, function () {\r\n        if ($(this)[0].nodeName === 'HTML') {\r\n          if (typeof (callback) == 'function') {\r\n            callback();\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    numberFormat: function (number, decimals, dec_point, thousands_sep) {\r\n      // original by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)\r\n      // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\r\n      // bugfix by: Michael White (http://crestidg.com)\r\n      var i, j, kw, kd, km;\r\n\r\n      if (isNaN(decimals = Math.abs(decimals))) {\r\n        decimals = 0;\r\n      }\r\n      if (dec_point == undefined) {\r\n        dec_point = '.';\r\n      }\r\n      if (thousands_sep == undefined) {\r\n        thousands_sep = ' ';\r\n      }\r\n\r\n      i = parseInt(number = (+number || 0).toFixed(decimals)) + '';\r\n\r\n      if ((j = i.length) > 3) {\r\n        j = j % 3;\r\n      } else {\r\n        j = 0;\r\n      }\r\n\r\n      km = j ?\r\n        i.substr(0, j) + thousands_sep :\r\n        '';\r\n      kw = i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands_sep);\r\n      kd = (decimals ?\r\n        dec_point + Math.abs(number - i).toFixed(decimals).replace(/-/, '0').slice(2) :\r\n        '');\r\n\r\n      return km + kw + kd;\r\n    },\r\n  };\r\n\r\n  /* SCROLL\r\n  -------------------------------------------------- */\r\n\r\n  $('.js-scroll').on('click', function () {\r\n    var href = $(this).attr('href');\r\n\r\n    $mk.scrollTo($(href), 0);\r\n\r\n    return false;\r\n  });\r\n\r\n  /* POPUP\r\n  -------------------------------------------------- */\r\n\r\n  $('.js-popup').magnificPopup({\r\n    type: 'inline',\r\n    midClick: true,\r\n    closeBtnInside: true,\r\n    removalDelay: 300,\r\n    mainClass: 'mfp-fade mfp-custom',\r\n    fixedContentPos: false\r\n  });\r\n\r\n  $('.js-image').magnificPopup({\r\n    type: 'image',\r\n    closeOnContentClick: true,\r\n    removalDelay: 300,\r\n    mainClass: 'mfp-fade mfp-img-mobile mfp-custom',\r\n    image: {\r\n      verticalFit: true\r\n    }\r\n  });\r\n\r\n  $('.js-gallery').magnificPopup({\r\n    delegate: 'a',\r\n    type: 'image',\r\n    tLoading: 'Загрузка изображения #%curr%...',\r\n    mainClass: 'mfp-fade mfp-img-mobile mfp-custom',\r\n    removalDelay: 300,\r\n    gallery: {\r\n      enabled: true,\r\n      navigateByImgClick: true,\r\n      preload: [0, 1],\r\n      tCounter: '<span class=\"mfp-counter\">%curr% из %total%</span>'\r\n    },\r\n    image: {\r\n      tError: '<a href=\"%url%\">Изображение #%curr%</a> не может быть загружено.'\r\n    }\r\n  });\r\n\r\n  /* TABS\r\n  -------------------------------------------------- */\r\n\r\n  var $tabs = {\r\n    opts: {\r\n      root: '.tabs:not(.tabs-nojs)',\r\n      title: '.tabs-title',\r\n      content: '.tabs-content',\r\n      item: '.tabs-item',\r\n      active: '-active'\r\n    },\r\n\r\n    changeTab: function ($root, index) {\r\n      var opt = this.opts;\r\n\r\n      $root.find(opt.title + ' ' + opt.item).eq(index).addClass(opt.active).siblings(opt.item).removeClass(opt.active);\r\n      $root.find(opt.content + ' ' + opt.item).eq(index).addClass(opt.active).siblings(opt.item).removeClass(opt.active);\r\n\r\n      $(document).trigger('tab_change', {\r\n        root: $root,\r\n        index: index\r\n      });\r\n    },\r\n\r\n    init: function () {\r\n      var $this = this;\r\n      var opt = $this.opts;\r\n\r\n      $(opt.title).on('click', opt.item, function () {\r\n        var _ = $(this);\r\n        var $root = _.closest(opt.root);\r\n        var index = _.index();\r\n\r\n        $this.changeTab($root, index);\r\n      });\r\n    }\r\n  };\r\n\r\n  $tabs.init();\r\n\r\n  /* CAROUSEL\r\n  -------------------------------------------------- */\r\n\r\n  $('.carousel-hero').owlCarousel({\r\n    items: 1,\r\n    loop: true,\r\n    margin: 0,\r\n    nav: true,\r\n    dots: true,\r\n    autoplay: true,\r\n    autoplayTimeout: 5000,\r\n    animateOut: 'fadeOut',\r\n    animateIn: 'fadeIn'\r\n  });\r\n\r\n  $('.carousel-tile').owlCarousel({\r\n    items: 1,\r\n    loop: true,\r\n    margin: 0,\r\n    nav: false,\r\n    dots: true,\r\n    autoplay: true,\r\n    autoplayTimeout: 5000,\r\n    animateOut: 'fadeOut',\r\n    animateIn: 'fadeIn'\r\n  });\r\n\r\n  $('.carousel-inline').owlCarousel({\r\n    items: 1,\r\n    loop: true,\r\n    margin: 0,\r\n    nav: true,\r\n    dots: true,\r\n    animateOut: 'fadeOut',\r\n    animateIn: 'fadeIn',\r\n    onInitialized: function(event) {\r\n      if ($(event.target).data('fullscreen') == true) {\r\n        var gallery = [];\r\n\r\n        $(event.target).find('.owl-item:not(.cloned)').each(function() {\r\n          var src = $(this).find('img').attr('data-full');\r\n\r\n          gallery.push({src: src});\r\n        });\r\n\r\n        $(event.target).append('<a class=\"owl-popup\" href=\"#\"></a>');\r\n\r\n        $(event.target).find('.owl-popup').on('click', function() {\r\n          $.magnificPopup.open({\r\n            items: gallery,\r\n            type: 'image',\r\n            tLoading: 'Загрузка изображения #%curr%...',\r\n            mainClass: 'mfp-fade mfp-img-mobile',\r\n            removalDelay: 300,\r\n            gallery: {\r\n              enabled: true,\r\n              navigateByImgClick: true,\r\n              preload: [0, 1],\r\n              tCounter: '<span class=\"mfp-counter\">%curr% из %total%</span>'\r\n            },\r\n            image: {\r\n              tError: '<a href=\"%url%\">Изображение #%curr%</a> не может быть загружено.'\r\n            }\r\n          });\r\n\r\n          return false;\r\n        });\r\n\r\n      };\r\n    },\r\n    onChanged: function(event) {\r\n      if ($('.carousel-inline-text').length) {\r\n        var index = event.item.index;\r\n\r\n        if (event.relatedTarget.options.loop) {\r\n          index = event.item.index - (event.relatedTarget._clones.length / 2);\r\n\r\n          if (index >= event.item.count) {\r\n            index = 0;\r\n          }\r\n        }\r\n\r\n        $('.carousel-inline-text').trigger('to.owl.carousel', index);\r\n      }\r\n    }\r\n  });\r\n\r\n  $('.carousel-inline-text').owlCarousel({\r\n    items: 1,\r\n    loop: true,\r\n    margin: 0,\r\n    nav: false,\r\n    dots: false,\r\n    mouseDrag: false,\r\n    touchDrag: false,\r\n    pullDrag: false,\r\n    freeDrag: false,\r\n    animateOut: 'fadeOut',\r\n    animateIn: 'fadeIn'\r\n  });\r\n\r\n  $('.carousel-project').owlCarousel({\r\n    items: 1,\r\n    loop: true,\r\n    margin: 0,\r\n    nav: true,\r\n    dots: true,\r\n    animateOut: 'fadeOut',\r\n    animateIn: 'fadeIn'\r\n  });\r\n\r\n  $('.carousel-flats').owlCarousel({\r\n    items: 1,\r\n    loop: true,\r\n    margin: 29,\r\n    nav: false,\r\n    dots: true,\r\n    responsive: {\r\n      641: {\r\n        items: 2\r\n      },\r\n      1025: {\r\n        items: 3,\r\n        dots: false\r\n      }\r\n    }\r\n  });\r\n\r\n  $('.carousel').on('mousemove mouseout', function(e) {\r\n    var width = $(this).width();\r\n    var x = e.pageX;\r\n    var offsetX = $(this).offset().left;\r\n\r\n    if (e.type == 'mousemove') {\r\n      // prev\r\n      if (x > offsetX && x < offsetX + width/2) {\r\n        $(this).removeClass('owl-show-next').addClass('owl-show-prev');\r\n      }\r\n\r\n      // next\r\n      if (x > offsetX + width/2 && x < offsetX + width) {\r\n        $(this).removeClass('owl-show-prev').addClass('owl-show-next');\r\n      }\r\n    }\r\n\r\n    if (e.type == 'mouseout') {\r\n      $(this).removeClass('owl-show-next').removeClass('owl-show-prev');\r\n    }\r\n  });\r\n\r\n  /* NAVIGATION\r\n  -------------------------------------------------- */\r\n\r\n  $('.menu-toggler').on('click', function() {\r\n    var _ = $(this);\r\n    var $aside = $('.aside');\r\n    var $asideBody = $('.aside-body');\r\n    var $asideFooter = $('.aside-footer');\r\n\r\n    if ($b.hasClass('menu-opened')) {\r\n\r\n      _.removeClass('-active');\r\n      $asideBody.removeAttr('style').removeClass('-active');\r\n      $b.removeClass('menu-opened');\r\n\r\n    } else {\r\n\r\n      _.addClass('-active');\r\n      $asideBody\r\n        .addClass('-active')\r\n        .css({\r\n          height: window.innerHeight - $aside.outerHeight(),\r\n          paddingBottom: $asideFooter.outerHeight()\r\n        });\r\n      $b.addClass('menu-opened');\r\n\r\n    }\r\n  });\r\n\r\n  /* STICK\r\n  -------------------------------------------------- */\r\n\r\n  function stickAside() {\r\n    var $element = $('.aside-holder');\r\n\r\n    if ($w.width() > 1024) {\r\n      $element.stick_in_parent({\r\n        parent: '.main',\r\n        inner_scrolling: false,\r\n        recalc_every: 1\r\n      });\r\n    } else {\r\n      $element.trigger('sticky_kit:detach');\r\n    }\r\n  }\r\n\r\n  $w.on('resize', stickAside);\r\n\r\n  stickAside();\r\n\r\n  /* DECORATION\r\n  -------------------------------------------------- */\r\n\r\n  $('.switcher').on('click', '.switcher-item', function() {\r\n    var index = $(this).index();\r\n\r\n    $(this).addClass('-active').siblings().removeClass('-active');\r\n\r\n    $tabs.changeTab($('.tabs-switcher'), index);\r\n  });\r\n\r\n  /* COMMERCIAL\r\n  -------------------------------------------------- */\r\n\r\n  $d.on('click', '.accordion-commercial .button-control', function() {\r\n    var index = $(this).index();\r\n\r\n    $(this).addClass('-active').siblings().removeClass('-active');\r\n\r\n    $tabs.changeTab($(this).closest('.accordion-body').find('.tabs-commercial'), index);\r\n\r\n    return false;\r\n  });\r\n\r\n  /* FX\r\n  -------------------------------------------------- */\r\n\r\n  var $effect = {\r\n\r\n    init: function() {\r\n      var $this = this;\r\n\r\n      $('.js-fx-button-slideup').each(function() {\r\n        var text = $(this).html();\r\n\r\n        $(this).attr('data-text', text);\r\n      });\r\n\r\n      $w.on('load resize', function() {\r\n        $this.effect();\r\n      });\r\n\r\n    },\r\n\r\n    effect: function() {\r\n      $('.js-fx-button-slideup').each(function() {\r\n        var text = $(this).attr('data-text');\r\n\r\n        $(this).html(text);\r\n\r\n        var heigth = $(this).height();\r\n\r\n        $(this).html('<div style=\"height: '+ heigth +'px\"><span>' + text + '</span><span>' + text + '</span></div>');\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  $effect.init();\r\n\r\n  /* UI SLIDER\r\n  -------------------------------------------------- */\r\n\r\n  $('.form-slider').each(function() {\r\n    var _ = $(this);\r\n    var $slider = _.find('.form-slider-slider');\r\n    var $input = _.find('input');\r\n\r\n    var min = $slider.data('min');\r\n    var max = $slider.data('max');\r\n    var step = $slider.data('step');\r\n    var value = $slider.data('value');\r\n    var prefix = $slider.data('prefix') || '';\r\n\r\n    var timer;\r\n\r\n    $slider.slider({\r\n      animate: 200,\r\n      range: 'min',\r\n      min: min,\r\n      max: max,\r\n      step: step,\r\n      value: value,\r\n      slide: function(event, ui) {\r\n        $input.val(prefix + $mk.numberFormat(ui.value));\r\n\r\n        // example\r\n        $('.calculator-total-summ').text($mk.numberFormat(Math.random() * 10000000));\r\n      }\r\n    });\r\n\r\n    $input.val(prefix + $mk.numberFormat(value));\r\n\r\n    $input.on('keyup focusout', function(event) {\r\n      var _ = $(this);\r\n      var prefix = _.data('prefix') || '';\r\n      var value = parseInt(_.val().replace(/[A-zА-я| ]/gim, ''));\r\n\r\n      if (event.type == 'focusout') {\r\n        if (value < min || value > max || value == '' || isNaN(value)) {\r\n          value = min;\r\n        }\r\n\r\n        $slider.slider('value', value);\r\n      }\r\n\r\n      _.val(prefix + $mk.numberFormat(value));\r\n    });\r\n\r\n  });\r\n\r\n  $('.form-ranger').each(function() {\r\n    var _ = $(this);\r\n    var $slider = _.find('.form-ranger-slider');\r\n    var $inputFrom = _.find('input').eq(0);\r\n    var $inputTo = _.find('input').eq(1);\r\n\r\n    var min = $slider.data('min');\r\n    var max = $slider.data('max');\r\n    var step = $slider.data('step');\r\n    var values = $slider.data('values').split(',');\r\n    var prefix = $slider.data('prefix') || '';\r\n\r\n    var timer;\r\n\r\n    $slider.slider({\r\n      animate: 200,\r\n      range: true,\r\n      min: min,\r\n      max: max,\r\n      step: step,\r\n      values: values,\r\n      slide: function(event, ui) {\r\n        $inputFrom.val(prefix + $mk.numberFormat(ui.values[0]));\r\n        $inputTo.val(prefix + $mk.numberFormat(ui.values[1]));\r\n      }\r\n    });\r\n\r\n    $inputFrom.val(prefix + $mk.numberFormat(values[0]));\r\n    $inputTo.val(prefix + $mk.numberFormat(values[1]));\r\n\r\n    $inputFrom.on('keyup focusout', function(event) {\r\n      var _ = $(this);\r\n      var prefix = _.data('prefix') || '';\r\n      var value = parseInt(_.val().replace(/[A-zА-я| ]/gim, ''));\r\n\r\n      if (event.type == 'focusout') {\r\n        if (value < min || value > $slider.slider('values', 1) || value == '' || isNaN(value)) {\r\n          value = min;\r\n        }\r\n\r\n        $slider.slider('values', 0, value);\r\n      }\r\n\r\n      _.val(prefix + $mk.numberFormat(value));\r\n    });\r\n\r\n    $inputTo.on('keyup focusout', function(event) {\r\n      var _ = $(this);\r\n      var prefix = _.data('prefix') || '';\r\n      var value = parseInt(_.val().replace(/ /gim, ''));\r\n\r\n      if (event.type == 'focusout') {\r\n        if (value < $slider.slider('values', 0) || value > max || value == '' || isNaN(value)) {\r\n          value = max;\r\n        }\r\n\r\n        $slider.slider('values', 1, value);\r\n      }\r\n\r\n      _.val(prefix + $mk.numberFormat(value));\r\n    });\r\n\r\n  });\r\n\r\n  /* ACCORDION\r\n  -------------------------------------------------- */\r\n\r\n  $d.on('click', '.accordion-title', function() {\r\n    $(this).closest('.accordion-item').toggleClass('-active');\r\n    $(this).closest('.accordion-item').find('.accordion-body').slideToggle(100, function () {\r\n      $b.trigger('sticky_kit:recalc');\r\n    });\r\n  });\r\n\r\n  /* INPUTMASK\r\n  -------------------------------------------------- */\r\n\r\n  $('input[type=\"tel\"]').inputmask({\r\n    mask: '+7 (999) 999-99-99'\r\n  });\r\n\r\n  /* CHESS TIP\r\n  -------------------------------------------------- */\r\n\r\n  $('.chess-number').on('mouseenter mouseout', function(event) {\r\n    var $tip = $(this).next('.chess-tip');\r\n\r\n    if (event.type === 'mouseenter') {\r\n      var tipHeight = $tip.outerHeight() || 0;\r\n\r\n      if ($d.scrollTop() > $(this).offset().top - tipHeight) {\r\n        $tip.addClass('chess-tip-bottom');\r\n      }\r\n    }\r\n\r\n    if (event.type === 'mouseout') {\r\n      $tip.removeClass('chess-tip-bottom');\r\n    }\r\n  });\r\n\r\n});\r\n"]}