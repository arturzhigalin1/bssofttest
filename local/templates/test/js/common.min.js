$(function(){function e(){var e=$(".aside-holder");a.width()>1024?e.stick_in_parent({parent:".main",inner_scrolling:!1,recalc_every:1}):e.trigger("sticky_kit:detach")}var t=$(document),a=$(window),i=($("html"),$("body")),o={scrollTo:function(e,t,a){$("html, body").stop().animate({scrollTop:e.offset().top-("number"==typeof t?t:0)},500,function(){"HTML"===$(this)[0].nodeName&&"function"==typeof a&&a()})},numberFormat:function(e,t,a,i){var o,n,s,r,l;return isNaN(t=Math.abs(t))&&(t=0),void 0==a&&(a="."),void 0==i&&(i=" "),o=parseInt(e=(+e||0).toFixed(t))+"",(n=o.length)>3?n%=3:n=0,l=n?o.substr(0,n)+i:"",s=o.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+i),r=t?a+Math.abs(e-o).toFixed(t).replace(/-/,"0").slice(2):"",l+s+r}};$(".js-scroll").on("click",function(){var e=$(this).attr("href");return o.scrollTo($(e),0),!1}),$(".js-popup").magnificPopup({type:"inline",midClick:!0,closeBtnInside:!0,removalDelay:300,mainClass:"mfp-fade mfp-custom",fixedContentPos:!1}),$(".js-image").magnificPopup({type:"image",closeOnContentClick:!0,removalDelay:300,mainClass:"mfp-fade mfp-img-mobile mfp-custom",image:{verticalFit:!0}}),$(".js-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Загрузка изображения #%curr%...",mainClass:"mfp-fade mfp-img-mobile mfp-custom",removalDelay:300,gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1],tCounter:'<span class="mfp-counter">%curr% из %total%</span>'},image:{tError:'<a href="%url%">Изображение #%curr%</a> не может быть загружено.'}});var n={opts:{root:".tabs:not(.tabs-nojs)",title:".tabs-title",content:".tabs-content",item:".tabs-item",active:"-active"},changeTab:function(e,t){var a=this.opts;e.find(a.title+" "+a.item).eq(t).addClass(a.active).siblings(a.item).removeClass(a.active),e.find(a.content+" "+a.item).eq(t).addClass(a.active).siblings(a.item).removeClass(a.active),$(document).trigger("tab_change",{root:e,index:t})},init:function(){var e=this,t=e.opts;$(t.title).on("click",t.item,function(){var a=$(this),i=a.closest(t.root),o=a.index();e.changeTab(i,o)})}};n.init(),$(".carousel-hero").owlCarousel({items:1,loop:!0,margin:0,nav:!0,dots:!0,autoplay:!0,autoplayTimeout:5e3,animateOut:"fadeOut",animateIn:"fadeIn"}),$(".carousel-tile").owlCarousel({items:1,loop:!0,margin:0,nav:!1,dots:!0,autoplay:!0,autoplayTimeout:5e3,animateOut:"fadeOut",animateIn:"fadeIn"}),$(".carousel-inline").owlCarousel({items:1,loop:!0,margin:0,nav:!0,dots:!0,animateOut:"fadeOut",animateIn:"fadeIn",onInitialized:function(e){if(1==$(e.target).data("fullscreen")){var t=[];$(e.target).find(".owl-item:not(.cloned)").each(function(){var e=$(this).find("img").attr("data-full");t.push({src:e})}),$(e.target).append('<a class="owl-popup" href="#"></a>'),$(e.target).find(".owl-popup").on("click",function(){return $.magnificPopup.open({items:t,type:"image",tLoading:"Загрузка изображения #%curr%...",mainClass:"mfp-fade mfp-img-mobile",removalDelay:300,gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1],tCounter:'<span class="mfp-counter">%curr% из %total%</span>'},image:{tError:'<a href="%url%">Изображение #%curr%</a> не может быть загружено.'}}),!1})}},onChanged:function(e){if($(".carousel-inline-text").length){var t=e.item.index;e.relatedTarget.options.loop&&(t=e.item.index-e.relatedTarget._clones.length/2)>=e.item.count&&(t=0),$(".carousel-inline-text").trigger("to.owl.carousel",t)}}}),$(".carousel-inline-text").owlCarousel({items:1,loop:!0,margin:0,nav:!1,dots:!1,mouseDrag:!1,touchDrag:!1,pullDrag:!1,freeDrag:!1,animateOut:"fadeOut",animateIn:"fadeIn"}),$(".carousel-project").owlCarousel({items:1,loop:!0,margin:0,nav:!0,dots:!0,animateOut:"fadeOut",animateIn:"fadeIn"}),$(".carousel-flats").owlCarousel({items:1,loop:!0,margin:29,nav:!1,dots:!0,responsive:{641:{items:2},1025:{items:3,dots:!1}}}),$(".carousel").on("mousemove mouseout",function(e){var t=$(this).width(),a=e.pageX,i=$(this).offset().left;"mousemove"==e.type&&(a>i&&a<i+t/2&&$(this).removeClass("owl-show-next").addClass("owl-show-prev"),a>i+t/2&&a<i+t&&$(this).removeClass("owl-show-prev").addClass("owl-show-next")),"mouseout"==e.type&&$(this).removeClass("owl-show-next").removeClass("owl-show-prev")}),$(".menu-toggler").on("click",function(){var e=$(this),t=$(".aside"),a=$(".aside-body"),o=$(".aside-footer");i.hasClass("menu-opened")?(e.removeClass("-active"),a.removeAttr("style").removeClass("-active"),i.removeClass("menu-opened")):(e.addClass("-active"),a.addClass("-active").css({height:window.innerHeight-t.outerHeight(),paddingBottom:o.outerHeight()}),i.addClass("menu-opened"))}),a.on("resize",e),e(),$(".switcher").on("click",".switcher-item",function(){var e=$(this).index();$(this).addClass("-active").siblings().removeClass("-active"),n.changeTab($(".tabs-switcher"),e)}),t.on("click",".accordion-commercial .button-control",function(){var e=$(this).index();return $(this).addClass("-active").siblings().removeClass("-active"),n.changeTab($(this).closest(".accordion-body").find(".tabs-commercial"),e),!1}),{init:function(){var e=this;$(".js-fx-button-slideup").each(function(){var e=$(this).html();$(this).attr("data-text",e)}),a.on("load resize",function(){e.effect()})},effect:function(){$(".js-fx-button-slideup").each(function(){var e=$(this).attr("data-text");$(this).html(e);var t=$(this).height();$(this).html('<div style="height: '+t+'px"><span>'+e+"</span><span>"+e+"</span></div>")})}}.init(),$(".form-slider").each(function(){var e=$(this),t=e.find(".form-slider-slider"),a=e.find("input"),i=t.data("min"),n=t.data("max"),s=t.data("step"),r=t.data("value"),l=t.data("prefix")||"";t.slider({animate:200,range:"min",min:i,max:n,step:s,value:r,slide:function(e,t){a.val(l+o.numberFormat(t.value)),$(".calculator-total-summ").text(o.numberFormat(1e7*Math.random()))}}),a.val(l+o.numberFormat(r)),a.on("keyup focusout",function(e){var a=$(this),s=a.data("prefix")||"",r=parseInt(a.val().replace(/[A-zА-я| ]/gim,""));"focusout"==e.type&&((r<i||r>n||""==r||isNaN(r))&&(r=i),t.slider("value",r)),a.val(s+o.numberFormat(r))})}),$(".form-ranger").each(function(){var e=$(this),t=e.find(".form-ranger-slider"),a=e.find("input").eq(0),i=e.find("input").eq(1),n=t.data("min"),s=t.data("max"),r=t.data("step"),l=t.data("values").split(","),c=t.data("prefix")||"";t.slider({animate:200,range:!0,min:n,max:s,step:r,values:l,slide:function(e,t){a.val(c+o.numberFormat(t.values[0])),i.val(c+o.numberFormat(t.values[1]))}}),a.val(c+o.numberFormat(l[0])),i.val(c+o.numberFormat(l[1])),a.on("keyup focusout",function(e){var a=$(this),i=a.data("prefix")||"",s=parseInt(a.val().replace(/[A-zА-я| ]/gim,""));"focusout"==e.type&&((s<n||s>t.slider("values",1)||""==s||isNaN(s))&&(s=n),t.slider("values",0,s)),a.val(i+o.numberFormat(s))}),i.on("keyup focusout",function(e){var a=$(this),i=a.data("prefix")||"",n=parseInt(a.val().replace(/ /gim,""));"focusout"==e.type&&((n<t.slider("values",0)||n>s||""==n||isNaN(n))&&(n=s),t.slider("values",1,n)),a.val(i+o.numberFormat(n))})}),t.on("click",".accordion-title",function(){$(this).closest(".accordion-item").toggleClass("-active"),$(this).closest(".accordion-item").find(".accordion-body").slideToggle(100,function(){i.trigger("sticky_kit:recalc")})}),$('input[type="tel"]').inputmask({mask:"+7 (999) 999-99-99"}),$(".chess-number").on("mouseenter mouseout",function(e){var a=$(this).next(".chess-tip");if("mouseenter"===e.type){var i=a.outerHeight()||0;t.scrollTop()>$(this).offset().top-i&&a.addClass("chess-tip-bottom")}"mouseout"===e.type&&a.removeClass("chess-tip-bottom")})});
//# sourceMappingURL=maps/common.min.js.map
